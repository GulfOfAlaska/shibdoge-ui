(this["webpackJsonpcra-template"]=this["webpackJsonpcra-template"]||[]).push([[0],{252:function(e,t){},254:function(e,t){},264:function(e,t){},266:function(e,t){},27:function(e,t,n){},279:function(e,t){},281:function(e,t){},362:function(e,t){},364:function(e,t){},383:function(e,t){},392:function(e,t,n){},393:function(e,t,n){"use strict";n.r(t);var i=n(5),s=n(7),l=n(1);n(27);var c=function(e,t){const n=Object(l.useRef)(e);Object(l.useLayoutEffect)((()=>{n.current=e}),[e]),Object(l.useEffect)((()=>{if(!t)return;const e=setInterval((()=>n.current()),t);return()=>clearInterval(e)}),[t])};const o="terra1s4ydu30zknkujf7l0rk566fn0ptdsn6ma4m2t3";var a=n(8),d=n.n(a),r=n.p+"static/media/doge-win.b83f3638.mp4",u=n.p+"static/media/shiba-win.31878def.mp4",v=n(0);function j(){var e,t,n,a;const j=Object(i.j)(),[h,b]=Object(l.useState)(),[m,g]=Object(l.useState)(),x=Object(l.useMemo)((()=>j?new s.LCDClient({URL:j.network.lcd,chainID:j.network.chainID}):null),[j]);async function w(e){return null===x||void 0===x?void 0:x.wasm.contractQuery(o,{side:{side:e}})}c((async()=>{try{const e=await w(1);b(e);const t=await w(2);g(t)}catch(e){console.error(e)}}),3e3);const O=(null===h||void 0===h||null===(e=h.side)||void 0===e?void 0:e.total_amount)?new d.a(null===h||void 0===h||null===(t=h.side)||void 0===t?void 0:t.total_amount):new d.a(0),f=(null===m||void 0===m||null===(n=m.side)||void 0===n?void 0:n.total_amount)?new d.a(null===m||void 0===m||null===(a=m.side)||void 0===a?void 0:a.total_amount):new d.a(0),y=O.lt(f)?1:2;return console.log(2===y),c((async()=>{try{const e=await w(1);b(e);const t=await w(2);g(t)}catch(e){console.error(e)}}),3e3),Object(v.jsx)("div",{style:{height:"100%",position:"relative",display:"flex",justifyContent:"space-between"},children:Object(v.jsxs)("div",{style:{height:"100%",width:"100%"},children:[2===y&&Object(v.jsx)("video",{autoPlay:!0,muted:!0,loop:!0,width:"100%",height:"100%",style:{objectFit:"fill"},children:Object(v.jsx)("source",{src:u,type:"video/mp4"})}),2!==y&&Object(v.jsx)("video",{autoPlay:!0,muted:!0,loop:!0,width:"100%",height:"100%",style:{objectFit:"fill"},children:Object(v.jsx)("source",{src:r,type:"video/mp4"})})]})})}function h(){const{status:e,network:t,wallets:n,availableConnectTypes:a,availableInstallTypes:r,connect:u,install:j,disconnect:h}=Object(i.k)(),b=Object(i.j)(),[m,g]=Object(l.useState)(),[x,w]=Object(l.useState)(),O=Object(l.useMemo)((()=>b?new s.LCDClient({URL:b.network.lcd,chainID:b.network.chainID}):null),[b]);return c((async()=>{if(b&&O){const e=(await O.bank.balance(b.walletAddress)).toArray();g(e);const t=await async function(){return null===O||void 0===O?void 0:O.wasm.contractQuery(o,{balance:{address:null===b||void 0===b?void 0:b.terraAddress.toString()}})}();w(null===t||void 0===t?void 0:t.balance)}else g(null)}),3e3),Object(v.jsxs)("div",{style:{display:"flex"},children:[e===i.h.WALLET_NOT_CONNECTED&&Object(v.jsxs)(v.Fragment,{children:[r.map((e=>Object(v.jsxs)("button",{className:"button",onClick:()=>j(e),children:["Install ",e]},"install-"+e))),Object(v.jsx)("div",{className:"button",onClick:()=>u(i.a.CHROME_EXTENSION),children:"Connect"})]}),e===i.h.WALLET_CONNECTED&&Object(v.jsxs)("div",{style:{marginRight:"0.5rem",color:"white"},children:[Object(v.jsx)("div",{style:{fontSize:".8vw"},children:n[0].terraAddress}),x&&Object(v.jsx)("span",{style:{fontSize:".8vw"},children:"dogeshib: ".concat(new d.a(x).shiftedBy(-6).toString())})]}),e===i.h.WALLET_CONNECTED&&Object(v.jsx)("div",{className:"button",onClick:()=>h(),children:"Disconnect"})]})}function b(e){const[t,n]=Object(l.useState)(null),[c,a]=Object(l.useState)(null),d=Object(i.j)(),{chosenSide:r,unclaimedMessage:u}=e,j=Object(l.useCallback)((()=>{if(!d)return;n(null),a(null);const e=new s.MsgExecuteContract(d.terraAddress,o,{deposit:{amount:"0"}});d.post({msgs:[e]}).then((e=>{n(e)})).catch((e=>{e instanceof i.f?a("User Denied"):e instanceof i.b?a("Create Tx Failed: "+e.message):e instanceof i.d?a("Tx Failed: "+e.message):e instanceof i.c?a("Timeout"):e instanceof i.e?a("Unspecified Error: "+e.message):a("Unknown Error: "+(e instanceof Error?e.message:String(e)))}))}),[d]);return Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[Object(v.jsx)("div",{className:"button",onClick:()=>j(),children:"Claim"}),Object(v.jsx)("div",{className:"text",style:{marginLeft:"1rem",marginBottom:"0"},children:u})]}),c]})}function m(e){const[t,n]=Object(l.useState)(null),[c,a]=Object(l.useState)(null),[r,u]=Object(l.useState)(""),j=Object(i.j)(),{chosenSide:h,balance:b}=e;return Object(v.jsx)("div",{children:(null===j||void 0===j?void 0:j.availablePost)&&Object(v.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(v.jsx)("div",{className:"button",onClick:()=>(async()=>{if(!j)return;n(null);const e=new s.MsgExecuteContract(j.terraAddress,o,{deposit:{amount:new d.a(r).shiftedBy(6).toString()}});j.post({msgs:[e]}).then((e=>{n(e)})).catch((e=>{e instanceof i.f?a("User Denied"):e instanceof i.b?a("Create Tx Failed: "+e.message):e instanceof i.d?a("Tx Failed: "+e.message):e instanceof i.c?a("Timeout"):e instanceof i.e?a("Unspecified Error: "+e.message):a("Unknown Error: "+(e instanceof Error?e.message:String(e)))}))})(),children:"Deposit"}),Object(v.jsxs)("div",{style:{position:"relative"},children:[Object(v.jsx)("input",{className:"retro-input",value:r,onChange:e=>{u(e.target.value)}}),b&&Object(v.jsx)("div",{style:{marginLeft:"1vw",fontSize:".2vw",textAlign:"right",position:"absolute",right:".5vw",top:"-.8vw",cursor:"pointer"},onClick:()=>{u(b)},children:"max: ".concat(b)})]}),c]})})}function g(e){const[t,n]=Object(l.useState)(null),[c,a]=Object(l.useState)(null),[r,u]=Object(l.useState)(""),j=Object(i.j)(),{staked:h}=e;return Object(v.jsx)("div",{children:Object(v.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(v.jsx)("div",{className:"button",onClick:()=>(async()=>{if(!j)return;n(null),a(null);const e=new s.MsgExecuteContract(j.terraAddress,o,{withdraw:{amount:new d.a(r).shiftedBy(6).toString()}});j.post({msgs:[e]}).then((e=>{n(e)})).catch((e=>{e instanceof i.f?a("User Denied"):e instanceof i.b?a("Create Tx Failed: "+e.message):e instanceof i.d?a("Tx Failed: "+e.message):e instanceof i.c?a("Timeout"):e instanceof i.e?a("Unspecified Error: "+e.message):a("Unknown Error: "+(e instanceof Error?e.message:String(e)))}))})(),children:"Withdraw"}),Object(v.jsxs)("div",{style:{position:"relative"},children:[Object(v.jsx)("input",{className:"retro-input",value:r,onChange:e=>{u(e.target.value)}}),h&&Object(v.jsx)("div",{style:{marginLeft:"1vw",fontSize:".2vw",textAlign:"right",position:"absolute",right:".5vw",top:"-.8vw",cursor:"pointer"},onClick:()=>{u(h)},children:"max: ".concat(h)})]}),c]})})}function x(e){const[t,n]=Object(l.useState)(null),[c,a]=Object(l.useState)(null),{label:d,side:r}=e,u=Object(i.j)();return Object(v.jsxs)("div",{children:[(null===u||void 0===u?void 0:u.availablePost)&&!t&&!c&&Object(v.jsx)("div",{className:"button",onClick:()=>(async()=>{if(!u)return;n(null);const e=new s.MsgExecuteContract(u.terraAddress,o,{side:{side:r}});u.post({msgs:[e]}).then((e=>{n(e)})).catch((e=>{e instanceof i.f?a("User Denied"):e instanceof i.b?a("Create Tx Failed: "+e.message):e instanceof i.d?a("Tx Failed: "+e.message):e instanceof i.c?a("Timeout"):e instanceof i.e?a("Unspecified Error: "+e.message):a("Unknown Error: "+(e instanceof Error?e.message:String(e)))}))})(),children:d}),c]})}var w=n.p+"static/media/shiba-logo.ab75a889.png",O=n.p+"static/media/doge-logo.74da373a.png";function f(){var e,t,n,a,r,u,j,h,f,y,p,S,k,N,_;const C=Object(i.j)(),[E,T]=Object(l.useState)(),[D,A]=Object(l.useState)(),[I,L]=Object(l.useState)(),[U,B]=Object(l.useState)(),[F,M]=Object(l.useState)(),[Q,z]=Object(l.useState)(),[W,R]=Object(l.useState)(),[P,H]=Object(l.useState)(),G=Object(l.useMemo)((()=>C?new s.LCDClient({URL:C.network.lcd,chainID:C.network.chainID}):null),[C]);async function J(e){return null===G||void 0===G?void 0:G.wasm.contractQuery(o,{side:{side:e}})}async function Y(){return null===G||void 0===G?void 0:G.wasm.contractQuery(o,{last_round:{}})}c((async()=>{if(C&&G){const e=await async function(){return null===G||void 0===G?void 0:G.wasm.contractQuery(o,{balance:{address:null===C||void 0===C?void 0:C.terraAddress.toString()}})}();H(null===e||void 0===e?void 0:e.balance)}else H(null)}),3e3),c((async()=>{try{if(!(null===C||void 0===C?void 0:C.terraAddress))return;const e=await async function(e){return null===G||void 0===G?void 0:G.wasm.contractQuery(o,{stake:{address:e}})}(null===C||void 0===C?void 0:C.terraAddress.toString());T(e)}catch(e){console.error(e)}}),3e3),c((async()=>{try{const e=await J(1);A(e);const t=await J(2);L(t)}catch(e){console.error(e)}}),3e3),c((async()=>{try{const e=await async function(){return null===G||void 0===G?void 0:G.wasm.contractQuery(o,{last_round_winners:{}})}();M(e)}catch(e){console.error(e)}}),3e3),c((async()=>{try{if(!(null===C||void 0===C?void 0:C.terraAddress))return;const e=await async function(e){return null===G||void 0===G?void 0:G.wasm.contractQuery(o,{pending_rewards:{address:e}})}(null===C||void 0===C?void 0:C.terraAddress.toString());z(e)}catch(e){console.error(e)}}),3e3),c((async()=>{try{if(!(null===C||void 0===C?void 0:C.terraAddress))return;const e=await async function(){return null===G||void 0===G?void 0:G.wasm.contractQuery(o,{last_change_side:{}})}();R(e)}catch(e){console.error(e)}}),3e3),c((async()=>{try{var e,t,n;const s=await Y(),l=await(null===G||void 0===G?void 0:G.tendermint.blockInfo()),c=null===l||void 0===l||null===(e=l.block)||void 0===e||null===(t=e.header)||void 0===t?void 0:t.height;if((null===s||void 0===s||null===(n=s.last_round)||void 0===n?void 0:n.block_height)&&c){var i;const e=5*(parseInt(c)-(null===s||void 0===s||null===(i=s.last_round)||void 0===i?void 0:i.block_height));B(e?new d.a(60).minus(e):null)}}catch(s){console.error(s)}}),3e4),c((async()=>{try{if(U)U.lte(0)?B(new d.a(60)):B(U.minus(1));else{var e,t,n;const s=await Y(),l=await(null===G||void 0===G?void 0:G.tendermint.blockInfo()),c=null===l||void 0===l||null===(e=l.block)||void 0===e||null===(t=e.header)||void 0===t?void 0:t.height;if((null===s||void 0===s||null===(n=s.last_round)||void 0===n?void 0:n.block_height)&&c){var i;const e=5*(parseInt(c)-(null===s||void 0===s||null===(i=s.last_round)||void 0===i?void 0:i.block_height));B(e?new d.a(60).minus(e):null)}}}catch(s){console.error(s)}}),1e3),d.a.set({ROUNDING_MODE:3});let X=U?null===U||void 0===U?void 0:U.div(new d.a(60)):null,Z=X?null===U||void 0===U?void 0:U.mod(new d.a(60)):null;X=(null===(e=X)||void 0===e?void 0:e.isNegative())?new d.a(0):X,Z=(null===(t=Z)||void 0===t?void 0:t.isNegative())?new d.a(0):Z;const q=X&&Z&&!X.isNaN()&&!Z.isNaN()?"".concat(X.toFixed(0),"m : ").concat(Z.toFixed(0),"s"):"-",K=null===E||void 0===E||null===(n=E.stake)||void 0===n?void 0:n.side,V=(null===D||void 0===D||null===(a=D.side)||void 0===a?void 0:a.total_amount)?new d.a(null===D||void 0===D||null===(r=D.side)||void 0===r?void 0:r.total_amount).shiftedBy(-6).toString():"-",$=(null===I||void 0===I||null===(u=I.side)||void 0===u?void 0:u.total_amount)?new d.a(null===I||void 0===I||null===(j=I.side)||void 0===j?void 0:j.total_amount).shiftedBy(-6).toString():"-",ee=((null===D||void 0===D||null===(h=D.side)||void 0===h?void 0:h.current_winning_count)&&new d.a(null===D||void 0===D||null===(f=D.side)||void 0===f?void 0:f.current_winning_count).toString(),(null===I||void 0===I||null===(y=I.side)||void 0===y?void 0:y.current_winning_count)&&new d.a(null===I||void 0===I||null===(p=I.side)||void 0===p?void 0:p.current_winning_count).toString(),(null===E||void 0===E?void 0:E.stake.amount)?new d.a(null===E||void 0===E?void 0:E.stake.amount).shiftedBy(-6).toString():"-"),te={marginBottom:".6vw"},ne=(null===D||void 0===D||null===(S=D.side)||void 0===S?void 0:S.total_amount)?new d.a(null===D||void 0===D||null===(k=D.side)||void 0===k?void 0:k.total_amount):new d.a(0),ie=(null===I||void 0===I||null===(N=I.side)||void 0===N?void 0:N.total_amount)?new d.a(null===I||void 0===I||null===(_=I.side)||void 0===_?void 0:_.total_amount):new d.a(0),se=ne.lt(ie)?1:2,le=(null===W||void 0===W?void 0:W.last_change_side)===(null===C||void 0===C?void 0:C.terraAddress.toString()),ce=(null===E||void 0===E?void 0:E.stake.amount)&&!new d.a(null===E||void 0===E?void 0:E.stake.amount).isZero(),oe=new d.a(P).shiftedBy(-6).toString();return Object(v.jsx)("div",{style:{height:"100%",textAlign:"left"},children:Object(v.jsxs)("div",{className:"container",style:{height:"100%",display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(v.jsx)("div",{className:"shining-text",style:{textAlign:"center"},children:W&&"empty"!==(null===W||void 0===W?void 0:W.last_change_side)?"* ".concat(le?"Your are the last to switch sides!":"".concat(null===W||void 0===W?void 0:W.last_change_side," is the last to deposit!")," Win 10000000 dogeshib by being last to switch sides!!!"):"* Win 10000000 dogeshib by being last to switch sides!!!"}),Object(v.jsxs)("div",{style:{height:"100%",display:"flex",justifyContent:"space-between",width:"100%"},children:[Object(v.jsxs)("div",{className:"container",style:{height:"100%",width:"33%",border:"3px brown solid",flexDirection:"column"},children:[Object(v.jsx)("div",{style:{textAlign:"center",...te},children:Object(v.jsxs)("h2",{className:"text",children:[Object(v.jsx)("span",{className:"blinking-text",children:ce&&1===K?"[SELECTED]":""})," DOGE ",1===se&&Object(v.jsx)("span",{className:"shining-text",children:"(Currently Winning)"})]})}),Object(v.jsxs)("div",{className:"text",style:{marginTop:"1rem",...te},children:["Total Stakes: ",V]}),ce&&K&&1!==K&&Object(v.jsx)("div",{style:te,children:Object(v.jsx)(x,{label:"Choose Doge",side:1})}),ce&&K&&1!==K&&Object(v.jsx)("div",{className:"text",style:te,children:"* Side with lesser stakes wins"})]}),Object(v.jsxs)("div",{className:"container",style:{height:"100%",width:"33%",border:"3px brown solid",flexDirection:"column",alignItems:"flex-start"},children:[Object(v.jsx)("div",{className:"text",style:te,children:"Time left: ".concat(q)}),Object(v.jsxs)("div",{style:{display:"flex",...te,alignItems:"center"},children:[Object(v.jsx)("div",{className:"text",style:{lineHeight:"1vw",marginBottom:"0"},children:"Previous winners: "}),Object(v.jsx)("div",{style:{display:"flex",alignItems:"center"},children:null===F||void 0===F?void 0:F.round_winners.slice(0,5).map(((e,t)=>{const n=0===t?"1.3vw":".8vw";return 1===e?Object(v.jsx)("div",{style:{background:"url(".concat(O,") no-repeat"),backgroundSize:"cover",width:n,height:n,marginLeft:".3vw"}},"winner-".concat(t)):2===e?Object(v.jsx)("div",{style:{background:"url(".concat(w,") no-repeat"),backgroundSize:"cover",width:n,height:n,marginLeft:".3vw"}},"winner-".concat(t)):Object(v.jsx)("div",{})}))})]}),Object(v.jsxs)("div",{className:"text",style:{display:"flex",alignItems:"center",...te},children:["Your stake: ".concat(ee," "),1===K?"Doge":"Shiba"]}),Object(v.jsx)("div",{className:"text",style:{marginBottom:"1vw"},children:Object(v.jsx)(m,{balance:oe,chosenSide:null!==K&&void 0!==K?K:0})}),ce&&K&&Object(v.jsx)("div",{className:"text",style:te,children:Object(v.jsx)(g,{staked:ee})}),Object(v.jsx)("div",{style:te,children:Object(v.jsx)(b,{chosenSide:null!==K&&void 0!==K?K:0,unclaimedMessage:"".concat(new d.a((null===Q||void 0===Q?void 0:Q.pending_rewards)||0).shiftedBy(-6).toString()," dogeshib")})})]}),Object(v.jsxs)("div",{className:"container",style:{height:"100%",width:"33%",border:"3px brown solid",flexDirection:"column"},children:[Object(v.jsx)("div",{style:{textAlign:"center",...te},children:Object(v.jsxs)("h2",{className:"text",children:[Object(v.jsx)("span",{className:"blinking-text",children:ce&&2===K?"[SELECTED]":""})," SHIBA ",2===se&&Object(v.jsx)("span",{className:"shining-text",children:"(Currently Winning)"})]})}),Object(v.jsxs)("div",{className:"text",style:{marginTop:"1rem",...te},children:["Total Stakes: ",$]}),ce&&K&&2!==K&&Object(v.jsx)("div",{style:te,children:Object(v.jsx)(x,{label:"Choose Shiba",side:2})}),ce&&K&&2!==K&&Object(v.jsx)("div",{className:"text",style:te,children:"* Side with lesser stakes wins"})]})]})]})})}var y=n(39),p=n.n(y),S=(n(392),n.p+"static/media/OverTheHills.c1084af6.mp4");function k(){const[e,t]=Object(l.useState)(!0),n=new Audio(S);return Object(l.useEffect)((()=>(n.volume=.5,e?n.play():n.pause(),()=>n.pause())),[]),Object(v.jsx)("main",{className:"main-container",children:Object(v.jsxs)("div",{className:"battle-container",children:[Object(v.jsxs)("div",{className:"header",children:[Object(v.jsx)("button",{className:"button",onClick:()=>(e?n.pause():(n.volume=.5,n.play()),void t(!e)),children:"Music"}),Object(v.jsx)(h,{})]}),Object(v.jsx)("div",{style:{height:"50%",width:"100%"},children:Object(v.jsx)(j,{})}),Object(v.jsx)("div",{style:{height:"40%",width:"100%",marginTop:"1rem"},children:Object(v.jsx)(f,{})}),Object(v.jsx)("div",{style:{color:"white",fontSize:".8vw",textAlign:"right",marginTop:"1vw"},children:"contract address: ".concat(o)})]})})}Object(i.i)().then((e=>{p.a.render(Object(v.jsx)(i.g,{...e,children:Object(v.jsx)(k,{})}),document.getElementById("root"))}))},49:function(e,t){}},[[393,1,2]]]);
//# sourceMappingURL=main.d3901645.chunk.js.map